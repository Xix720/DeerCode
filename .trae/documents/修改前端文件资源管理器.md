## 修改方案

### 1. 让新增文件和新增目录按钮常驻显示

**修改文件：** `LeftPanel.css`
- 移除 `.file-explorer-actions` 的 `opacity: 0` 属性
- 移除 `.file-explorer:hover .file-explorer-actions` 选择器
- 确保按钮始终显示在文件资源管理器顶部

### 2. 实现文件/目录选中样式和新增逻辑

**修改文件：** `LeftPanel.tsx`
- 添加 `selectedFilePath` 状态，记录当前选中的文件/目录路径
- 添加 `editingNode` 状态，记录正在编辑的节点
- 修改 `handleToggleDir` 和 `onFileClick` 函数，更新选中状态
- 修改 `handleCreateFileOrDir` 函数，移除 prompt 弹窗
- 实现 `handleRename` 函数，处理文件名输入和保存

**修改文件：** `FileTree.tsx`
- 在渲染文件项时，根据 `selectedFilePath` 添加 `selected` 类
- 实现编辑状态的文件项渲染，显示输入框
- 添加输入框的键盘事件处理

**修改文件：** `FileTree.css`
- 确保 `.file-item.selected` 样式正确显示
- 添加编辑状态输入框的样式

### 3. 调整终端展开位置

**修改文件：** `IDEContainer.css`
- 调整 grid 布局，将终端从全局区域移动到中间区域内
- 修改 `.main-panel-wrapper` 为 flex 布局，包含代码编辑区域和终端
- 调整各区域的 grid-template-areas 和 grid-template-rows

**修改文件：** `IDEContainer.tsx`
- 调整组件结构，将终端组件移动到中间面板内
- 修改终端的 props，确保其只在中间面板内展开

## 实现逻辑

1. **选中文件/目录：**
   - 点击文件或目录时，更新 `selectedFilePath` 状态
   - 渲染时为选中项添加 `selected` 样式

2. **新增文件/目录：**
   - 点击新增按钮时，根据 `selectedFilePath` 确定父目录
   - 在文件树中添加新节点，设置 `isEditing: true` 和 `isNew: true`
   - 显示输入框，让用户输入文件名
   - 按下回车键时，调用 `handleRename` 函数保存文件

3. **终端展开：**
   - 终端组件移动到中间面板内
   - 中间面板使用 flex 布局，包含代码编辑区域和终端
   - 终端默认折叠，展开时只占用中间区域的下半部分

## 预期效果

- 新增文件和新增目录按钮常驻显示在文件资源管理器顶部
- 点击文件或目录时有明显的选中样式
- 新增文件时，在当前目录下显示输入框，输入文件名后按回车保存
- 终端展开时只占用中间代码编辑区域的下半部分，不影响其他区域

## 技术要点

- 使用 React 状态管理选中和编辑状态
- 利用 CSS Grid 和 Flex 布局调整组件位置
- 实现自定义的文件名输入逻辑，替代默认的 prompt 弹窗
- 确保键盘事件正确处理，支持回车保存和 ESC 取消

这个方案将按照用户的要求，实现更流畅、更符合 IDE 使用习惯的文件资源管理器交互体验。