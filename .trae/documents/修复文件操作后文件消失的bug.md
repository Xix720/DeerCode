### 问题分析
在新建、删除或重命名文件时，当前选中目录下的所有文件会消失，必须手动折叠父目录后才会显示。这是因为 `reloadFileTree` 函数在重新加载文件树时多次调用 `setFileTree`，导致组件多次渲染，中间状态显示不完整数据。

### 修复方案
1. **修改 `reloadFileTree` 函数**：不再多次更新状态，而是先构建完整的文件树，然后一次性更新状态
2. **优化文件树构建逻辑**：确保所有扩展目录的内容都被正确获取并添加到树中
3. **避免中间状态渲染**：通过构建完整树后再更新状态，确保组件只渲染一次，显示完整数据

### 关键修改点
1. 在 `reloadFileTree` 函数中，先获取所有必要数据，构建完整文件树
2. 只调用一次 `setFileTree` 来更新状态
3. 确保扩展目录的内容被正确添加到文件树中

### 预期效果
- 文件操作后，当前目录下的文件不会消失
- 组件只渲染一次，显示完整的文件树
- 不需要手动折叠/展开父目录来显示文件
- 保持良好的用户体验，操作后立即显示更新后的文件列表